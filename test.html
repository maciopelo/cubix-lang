<html>
  <head>
    <meta http-equiv="Content-Type" />
    <title>Rotate Object</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="http://www.x3dom.org/x3dom/src/x3dom.css"
    />
    <script
      type="text/javascript"
      src="http://www.x3dom.org/x3dom/src/x3dom.js"
    ></script>
  </head>

  <body>
    <button>click1</button>
    <button>click2</button>
  </body>

  <script> 
      const COLORS = {
          "red": "0.96 0.04 0.04",
          "green": "0.16 0.56 0.17",
          "blue": "0.04 0.04 0.96",
          "yellow": "1 1 0",
          "white": "1 1 1",
          "orange": "1 0.35 0",
      }
      const states = [{'right': ['red', 'red', 'red', 'red', 'red', 'red', 'red', 'red'], 'top': ['white', 'white', 'white', 'white', 'white', 'white', 'white', 'white'], 'front': ['green', 'green', 'green', 'green', 'green', 'green', 'green', 'green'], 'left': ['orange', 'orange', 'orange', 'orange', 'orange', 'orange', 'orange', 'orange'], 'bottom': ['yellow', 'yellow', 'yellow', 'yellow', 'yellow', 'yellow', 'yellow', 'yellow'], 'back': ['blue', 'blue', 'blue', 'blue', 'blue', 'blue', 'blue', 'blue']},{'right': ['red', 'red', 'red', 'red', 'red', 'red', 'red', 'red'], 'top': ['white', 'white', 'green', 'white', 'green', 'white', 'white', 'green'], 'front': ['green', 'green', 'yellow', 'green', 'yellow', 'green', 'green', 'yellow'], 'left': ['orange', 'orange', 'orange', 'orange', 'orange', 'orange', 'orange', 'orange'], 'bottom': ['yellow', 'yellow', 'blue', 'yellow', 'blue', 'yellow', 'yellow', 'blue'], 'back': ['blue', 'blue', 'white', 'blue', 'white', 'blue', 'blue', 'white']}]
      let currentMove = 0
      const prevMoveBtn = document.querySelector("#prevMoveBtn")
      const nextMoveBtn = document.querySelector("#nextMoveBtn")

      nextMoveBtn.onclick = function() {
          if(currentMove !== states.length-1){
              currentMove += 1;
              const nextMoveSetting = states[currentMove];
              handleCubeColorsChange(nextMoveSetting);
          }
      }

      prevMoveBtn.onclick = function() {
          if(currentMove !== 0){
              currentMove -= 1;
              const nextMoveSetting = states[currentMove];
              handleCubeColorsChange(nextMoveSetting);
          }
      }

      

      function handleCubeColorsChange(givenState){
          for (const side in givenState) {
              if (Object.hasOwnProperty.call(givenState, side)) {
                  const sideColors = givenState[side];
                  sideColors.forEach( (color, index) => {
                      const cubeSquareToChange = document.querySelector(`#${side}Square${index}Color`)
                      cubeSquareToChange.setAttribute("diffuseColor",COLORS[color])
                  })
              }
          }

      }

  </script>
</html>
